# generator-sub
[![Build Status](https://secure.travis-ci.org/doug-wade/generator-sub.svg?branch=master)](https://travis-ci.org/doug-wade/generator-sub)
[![dependencies](https://david-dm.org/doug-wade/generator-sub.svg)](https://david-dm.org/doug-wade/generator-sub)
[![devDependency Status](https://david-dm.org/doug-wade/generator-sub/dev-status.svg?style=flat)](https://david-dm.org/doug-wade/generator-sub#info=devDependencies)
[![npm version](https://badge.fury.io/js/generator-sub.svg)](https://badge.fury.io/js/generator-sub)

> A Yeoman generator for writing cli apps inspired by 37signals sub

## Features

#### Commands

Here's the commands `sub` comes with out of the box

```bash
A simple cli application. Broken into sub commands, invoked under sub:
    commands:  Lists all commands.
    example:  An example command.
    help:  Gets help for a sub command.
    init:  Set up configuration for example-sub. Runs interactive commands to walk you through setting up config.
    update:  Updates example-sub by pulling the most recent commit from the master branch of the remote git repository.
```

#### But wait there's more

* Updating from git or npm
* User-managed config
* Help parsed from subcommand comments


## Installation

First, install [Yeoman](http://yeoman.io) and generator-sub using [npm](https://www.npmjs.com/) (we assume you have pre-installed [node.js](https://nodejs.org/)).

```bash
npm install -g yo
npm install -g generator-sub
```

Then generate your new project:

```bash
yo sub
```


## Running the generated cli app locally

For example, suppose you generated a cli app called sub.

First, link the new package

```bash
npm link
```
Then, get the help

```bash
» sub help
A simple cli application. Broken into sub commands, invoked under sub:
    example  an example command.  Ex. sub example
    help    (also: -h or --help) print this help message.  Ex. sub help
```

And run the example sub command

```bash
» sub example
You ran the example command!
```


## Adding a new sub command

Say you wanted to add a new subcommand, random, which prints a random number between 0 and a provided argument when invoked.  First, generate a new sub command

```bash
yo sub:command
```

And verify that everything worked as anticipated

```bash
npm link
sub random
> You ran the random command!
```

Then, add your new logic inside the exported function inside lib/random.js

```javascript
/**
 * Returns a random number between 0 and the argument value
 * Usage:
 *      sub random 100
 *      > 80.6944249663502
 */
module.exports = function(argv){
  console.log(Math.random()*(+argv._[1]));
}
```

And then test your new command locally

```bash
sub random 100
> 80.6944249663502
```


## Example

See the boilerplate generated by thie generator [here](https://github.com/doug-wade/example-sub), or a sample cli app generated using this generator [here](https://github.com/prekolna/dnd-roller).


## Inspired By

This generator is Inspired [37signals sub](https://github.com/basecamp/sub).  Read more about [their pattern](http://37signals.com/svn/posts/3264-automating-with-convention-introducing-sub).


## Getting To Know Yeoman

Yeoman has a heart of gold. He&#39;s a person with feelings and opinions, but he&#39;s very easy to work with. If you think he&#39;s too opinionated, he can be easily convinced. Feel free to [learn more about him](http://yeoman.io/).


## Contributing

Please make sure it passes static analysis and the unit tests

    npm test

And make sure to discuss new features in an issue before you send a pull request.


## License

MIT © [Doug Wade](dougwade.io)

# Support
[![Support via Gratipay](https://cdn.rawgit.com/gratipay/gratipay-badge/2.3.0/dist/gratipay.svg)](https://gratipay.com/~doug-wade/)
